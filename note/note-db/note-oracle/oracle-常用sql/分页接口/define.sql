--siebel账号执行 SBL_ACCOUNT_BASE_INFO
grant select on SBL_ACCOUNT_PAGE_INFO_V to siebel_eai
--siebel_eai账号执行
CREATE OR REPLACE TYPE MSG_HEADER_REC AS OBJECT
(
SOURCE_SYSTEM_ID     VARCHAR2(20), --子系统的ID
SOURCE_SYSTEM_NAME   VARCHAR2(50), --子系统的名称
USER_ID              VARCHAR2(20), --消息用户id
USER_NAME            VARCHAR2(50), --消息用户名称
SUBMIT_DATE          VARCHAR2(20)  --消息请求提交时间
);

CREATE OR REPLACE TYPE INPUT_CUSTOMER_INFO_REC AS OBJECT
(
  PAGE_SIZE              NUMBER(6),    --页大小,即每页返回的行数,必需
  CURRENT_PAGE           NUMBER(6),    --当前页,可选,如果输入空或小于等于0时，则为1
  TOTAL_RECORD           NUMBER(6),    --记录总数,可选
  LAST_UPDATE_DATE_FROM  VARCHAR2(20), --开始查询时间包含该点
  LAST_UPDATE_DATE_END   VARCHAR2(20), --结束查询时间包含该点
  NAME                   VARCHAR2(200), --客户名称
  ALIAS_NAME             VARCHAR2(200),--客户简写
  ACCOUNT_NUM            VARCHAR2(200),--客户编号
  APPROVAL_STATUS_CD     VARCHAR2(200),--审批状态
  RESERVED1              VARCHAR2(200),--保留字段1
  RESERVED2              VARCHAR2(200),--保留字段1
  RESERVED3              VARCHAR2(200),--保留字段1
  RESERVED4              VARCHAR2(200),--保留字段1
  RESERVED5              VARCHAR2(200) --保留字段1
);

drop type OUT_CUSTOMER_INFO_TAB;
CREATE OR REPLACE TYPE OUT_CUSTOMER_INFO_REC AS OBJECT
(
  ACCOUNT_NUM  VARCHAR2(200),
NAME  VARCHAR2(200),
COUNTRYISO  VARCHAR2(200),
CITY  VARCHAR2(200),
ADDRESS  VARCHAR2(200),
E_MAIL  VARCHAR2(200),
LANGUAGE  VARCHAR2(200),
POSTL_COD1  VARCHAR2(200),
APPROVAL_STATUS_CD  VARCHAR2(200),
SIEBEL_ROW_ID  VARCHAR2(200),
ECC_ID  VARCHAR2(200),
REGION  VARCHAR2(200),
ALIAS_NAME  VARCHAR2(200),
CREATED_DATE  DATE,
CREATED_BY  VARCHAR2(200),
LAST_UPD_DATE  DATE,
LAST_UPD_BY  VARCHAR2(200),
PHONE_NUM  VARCHAR2(200),
FAX_NUM  VARCHAR2(200),
PAR_OU_ID  VARCHAR2(200),
TAX_NUM	VARCHAR2(200),
IS_LISTED_COMPANY	VARCHAR2(200),
COMPANY_WEB_SITE	VARCHAR2(200),
MTO_NAME	VARCHAR2(200),
LARGE_T_NAME	VARCHAR2(200),
IS_HIGH_END_ACCOUNT	VARCHAR2(200),
MOBILE_AGENT_TYPE	VARCHAR2(200),
CUSTOMER_STATUS	VARCHAR2(200),
CUSTOMER_TYPE	VARCHAR2(200),
OPERATOR_LEVEL	VARCHAR2(200),
OPERATOR_TYPE	VARCHAR2(200),
ACCOUNT_CHILD_TYPE	VARCHAR2(200),
ZTE_BUSINESS_CATEGORY	VARCHAR2(200),
ACCOUNT_RANGE	VARCHAR2(200),
CONTACT_STATUS	VARCHAR2(200),
ACCOUNT_PROPERTY	VARCHAR2(200),
MTO_PROPERTY	VARCHAR2(200),
REGISTER_ADDR	VARCHAR2(200),
IS_CHILD_COMPANY	VARCHAR2(200),
LOCAL_NUM	VARCHAR2(200),
DEPARTMENT_NUM	VARCHAR2(200),
RESERVED1	VARCHAR2(200),
RESERVED2	VARCHAR2(200),
RESERVED3	VARCHAR2(200),
RESERVED4	VARCHAR2(200),
RESERVED5	VARCHAR2(200),
RESERVED6	VARCHAR2(200),
RESERVED7	VARCHAR2(200),
RESERVED8	VARCHAR2(200),
RESERVED9	VARCHAR2(200),
RESERVED10	VARCHAR2(200),
RESERVED11	VARCHAR2(200),
RESERVED12	VARCHAR2(200),
RESERVED13	VARCHAR2(200),
RESERVED14	VARCHAR2(200),
RESERVED15	VARCHAR2(200),
RESERVED16	VARCHAR2(200),
RESERVED17	VARCHAR2(200),
RESERVED18	VARCHAR2(200),
RESERVED19	VARCHAR2(200),
RESERVED20	VARCHAR2(200),
RESERVED21	VARCHAR2(200),
RESERVED22	VARCHAR2(200),
RESERVED23	VARCHAR2(200)

);
CREATE OR REPLACE TYPE OUT_CUSTOMER_INFO_TAB IS TABLE OF SIEBEL_EAI.OUT_CUSTOMER_INFO_REC;


CREATE OR REPLACE TYPE ERROR_MSG_REC AS OBJECT
(
   ENTITY_NAME   VARCHAR2(50),
   ERROR_MESSAGE VARCHAR2(600)
);
CREATE OR REPLACE TYPE ERROR_MSG_TAB IS TABLE OF SIEBEL_EAI.ERROR_MSG_REC;

create table PUB_LOG_TO_TABEL
(
  MSG_LOG_ID         NUMBER(20) not null,
  SIEBEL_SRV_NAME    VARCHAR2(50),
  SOURCE_SYSTEM_ID   VARCHAR2(20),
  SOURCE_SYSTEM_NAME VARCHAR2(50),
  USER_ID            VARCHAR2(20),
  USER_NAME          VARCHAR2(50),
  SUBMIT_DATE        VARCHAR2(20),
  MSG_DESC           VARCHAR2(4000),
  CREATED_DATE       DATE,
  LAST_UPDATED_DATE  DATE
);

-- Create sequence 
create sequence PUB_LOG_TO_TABEL_S
minvalue 1
maxvalue 99999999999999999999
start with 481
increment by 1
cache 5;





